# Memory Management in OS

Date: October 15, 2022 7:40 PM
Important: Logical Address | Physical Address | 
Status: Not started

# Memory Management

- Isolation and Security is Required between Process
- For maximum performance many process are kept in RAM by OS.
- To keep them isolated **logical addressing** is used.
    
    ### Logical Address
    
    - An address generated by CPU.
    - Logical Address is virtual or it does not exist physically.
    - User can access logical address but not physical address.
    - User has indirect access to **Physical Address** through **Logical Address**.
    - Range 0 → Max
    
    ### Physical Address
    
    - It is actual memory address.
    - User can never directly access Physical Address.
    - The set of all physical addresses corresponding to the Logical addresses is commonly known as **Physical Address Space**.
    - It is computed by **Memory Management Unit (MMU).** It is an Hardware.
    - Range `**R+0**` to **`R+Max`** where **`R`** is base value.
    
    > The runtime mapping from virtual to physical address is done by a hardware device called the memory-management unit (MMU).
    > 
- The user's program mainly generates the logical address, and think it is the only process.

## How OS manages the isolation and protect ?

> Memory Mapping and Protection
> 
> - OS provides this Virtual Address Space (VAS) concept.
> - To separate memory space, we need the ability to determine the range of legal addresses that the  process may access and to ensure that the process can access only these legal addresses.
> - The **relocation address** contains smallest Physical Address(Base Address)
>     - Relocation Register ⇒ Base Address
>     - Limit Register ⇒ Range Of Logical Address.
> - Each logical address must be less than the limit register.
> - If it tries to go more than that and try to go in other process memory, then OS traps it and give error.  ****

## Allocation Methods on Physical Memory

### 1. Contiguous Memory

1. Each Process is contained in a single contiguous block of memory.
2. Fixed Partitioning.
    
    ![internal.png](Memory%20Management%20in%20OS%20d9f194696e404bbebdd8463a8fb1e2ae/internal.png)
    
    1. The main memory is divided into equal or different sizes.
        1. In this technique, the partition size is not declared initially. It is declared at the time of process loading.
    2. **Limitations**
        1. **Internal Fragmentation**: if the size of the process is lesser then the total size of the partition then some size of the partition gets wasted and remain unused. This is wastage of the memory and called internal fragmentation.
        2. **External Fragmentation**: The total unused space of various partitions cannot be used to load the processes even though there is space available but not in the contiguous form.
        3. Limitation on process size: If the process size is larger than the size of maximum sized partition then that process cannot be loaded into the memory.
        4. Low degree of multi-programming: In fixed partitioning, the degree of
        multi programming is fixed and very less because the size of the partition cannot be varied according to the size of processes.

### 2. Dynamic Partitioning

 2. Advantage over fixed partitioning

1. No Internal Fragmentation
2. No limit of size of process
3. Better Degree of Multi Programming 
1. Limitations
    1. External Fragmentation 
        
        ![externalfragmentation.png](Memory%20Management%20in%20OS%20d9f194696e404bbebdd8463a8fb1e2ae/externalfragmentation.png)